import {Component, OnInit} from '@angular/core';
import {FormControl, FormGroup} from "@angular/forms";
import {ImageDto} from "../../dtos/imageDto";
import {DockerService} from "../../services/docker.service";

@Component({
  selector: 'app-add-image',
  templateUrl: './add-image.component.html',
  styleUrls: ['./add-image.component.scss']
})
export class AddImageComponent implements OnInit {

  imageForm: FormGroup = new FormGroup({
    repository: new FormControl(),
    tag: new FormControl()
  });

  constructor(private dockerService: DockerService) {
  }

  ngOnInit(): void {
  }

  save(): void {
    const imageDto: ImageDto = this.imageForm?.value;
    this.dockerService.saveImage(imageDto).subscribe((resImage) => {
      console.log(resImage);
    });
  }

  reset(): void {
    this.imageForm.reset();
  }

}
